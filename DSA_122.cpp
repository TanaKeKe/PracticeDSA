/*
Đề bài:
-> Kỳ thi ICPC có K đội của PTIT tham gia và đội tuyển đang rất đau đầu không biết chọn các cái tên như thế nào cho các đội. Yêu cầu phải đảm bảo tên không có khoảng trống và không được trùng nhau. Sau khi thảo luận, có N cái tên được đề xuất (có thể bị trùng nhau). Với K<15 và 4 < N < 30.
-> Hãy liệt kê tất cả danh sách các tổ hợp K cái tên khác nhau có thể được tạo ra theo thứ tự từ điển.
*/
#include<bits/stdc++.h>
using namespace std;
#define ll long long
#define Faster() ios_base::sync_with_stdio(0);cin.tie(0);cout.tie(0);
#define Test() int t;cin>>t;while(t--)
#define mod 1000000007
int a[100],n,k;
void Try(int i,vector<string> v){
  for(int j = a[i-1]+1;j<=n-k+i;++j){
    a[i] = j;
    if(i==k){
       for(int i=1;i<=k;++i) cout << v[a[i]-1] << " ";
    cout << "\n";
    }
    else Try(i+1,v);
  }
}
void solve(){
vector<string> v;
  cin >> n >> k;
  cin.ignore();
  set<string> s;
  string z;
  getline(cin,z);
  stringstream ss(z);
  string tmp;
  while(ss >> tmp) s.insert(tmp);
  n  = s.size();
  for(auto x : s) v.push_back(x);
  //for(auto x: v) cout << x << " ";
  Try(1,v);  
}

int main() {
  Faster()
  //Test()
  solve();
}
/*
                                                                       
                        .:^~!77????????777!~^..                       
                   .^!7????????????????????????7!^.                   
                :~7?????????????????????????????????!:                
             .~???????????JPP5YJ?YP55J?5P55YJ??????????!:             
           .!??????????J&Y?B&&&&GB#PP@&G#@&&@#YJ?????????7:           
         .!???????????7G@BJ77YB##&&YY@@BGBB&##&&G777??????J7:         
        ^??????????????&&&@#Y5&&&&&&&&&&&&&&&&&&&##BPY?7?????!        
       !J?????????????5&P7Y#B&@@@@@@@@@@@@@@@@@@@@@@@@@BJ?????7.      
      7???????????????G#@&G?Y@@@@@@@@@@@@@@@@@@@@@@@@@@@@P??????.     
     !???????????????5@P7P&B#@@@@@@@&GGGGGGGGBB#&@@@@@@@@@Y??????.    
    ^J??????????????7#@@#5?Y@@@@@@@@577777777777?5@@@@@@@@B7?????!    
    ?????????????????#GJB@#B@@@@@@@&?????????????7&@@@@@@@B7?????J:   
   ^J???????????????B@&G7?Y@@@@@@@@P7???????????7P@@@@@@@@5???????!   
   !????????????????@&&&77P@@@@@@@@????????777?JB@@@@@@@@#?????????   
   !???????????????JP#&@BJ&@@@@@@@#YYY5555PPG#&@@@@@@@@@#??????????   
   !??????????????J&@&&G#G@@@@@@@@@@@@@@@@@@@@@@@@@@@@@G???????????   
   ^??????????????J@PJB@?&@@@@@@@@@@@@@@@@@@@@@@@@@@&GJ7??????????7   
   .??????????????JB@&B@P@@@@@@@@@@@@@@@@@@@@@&&#GPJ?7???????????J^   
    ~????????????5@@BG#P#@@@@@@@&JJJJJJJJJJJ????77???????????????7    
     7??????????7#@B@&&5@@@@@@@@P7???????????????????????????????.    
     .???????????G&@@B5B@@@@@@@&????????????????????????????????:     
      .7????????B@&PG&5@@@@@@@@G7??????????????????????????????:      
        !??????J@&&#77G@@@@@@@@J?????????????????????????????7.       
         :7?????5#@&P?&@@@@@@@B7????????????????????????????^         
           ^7J???7JG&G@@@@@@@@J???????????????????????????~.          
             :7????7?J5555555Y?????????????????????????7^             
               .^7??????????????????????????????????7~.               
                  .:~7??????????????????????????7!^.                  
                       .^~!7??????????????7!~^:.                      
                              ..........                              
                                                                   
*/