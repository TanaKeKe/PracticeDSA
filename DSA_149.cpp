/*
Đề bài:
-> Cho mảng A[] gồm n phần tử. Hãy đưa ra các phần tử nhỏ hơn tiếp theo của phần tử lớn hơn đầu tiên phần tử hiện tại. Nếu phần tử hiện tại không có phần tử lớn hơn tiếp theo ta xem là -1. Nếu phần tử không có phần tử nhỏ hơn tiếp theo ta cũng xem là -1. Ví dụ với mảng A[] = {5, 1, 9, 2, 5, 1, 7} ta có kết quả là ans = {2, 2, -1, 1, -1, -1, -1} vì:

Next Greater                         Right Smaller

5          ->  9                                        9  ->  2

1          ->  9                                        9  ->  2

9          -> -1                                       -1 -> -1

2          -> 5                                         5   -> 1

5          -> 7                                         7  -> -1

1          ->  7                                        7 -> -1

7          -> -1                                       7 -> -1
*/
#include<bits/stdc++.h>
using namespace std;
#define ll long long
#define Faster() ios_base::sync_with_stdio(0);cin.tie(0);cout.tie(0);
#define Test() int t;cin>>t;cin.ignore();while(t--)
#define mod 1000000007

void solve(){
  int n;cin >> n;
  int a[n];
  for(int i=0;i<n;++i) cin >> a[i];
  int right[n];
  stack<int> st;
  for(int i=0;i<n;++i){
    if(st.empty()) st.push(i);
    else{
      if(a[i] > a[st.top()]){
        while(!st.empty() && a[i] > a[st.top()]){
          right[st.top()] = i;
          st.pop();
        }
      }
      st.push(i);
    }
  } 
  while(!st.empty()) {
    right[st.top()] = -1;
    st.pop();
  }

  // for(int i=0;i<n;++i) cout << right[i] << " ";
  //   cout << "\n";


  int left[n];
  for(int i=0;i<n;++i){
    if(st.empty()) st.push(i);
    else{
      if(a[i] < a[st.top()]){
        while(!st.empty() && a[i] < a[st.top()]){
          left[st.top()] = i;
          st.pop();
        }
      }
      st.push(i);
    }
  }
  while(!st.empty()){
    left[st.top()] = -1;
    st.pop();
  }
  // for(int i=0;i<n;++i) cout << left[i] << " ";
  // cout << "\n";

  for(int i=0;i<n;++i){
    if(right[i] == -1) {
      cout << -1 << " ";
    }
    else{
      if(left[right[i]] == -1){
        cout << -1 << " ";
      }
      else cout << a[left[right[i]]] << " ";
    }
  }
  cout << "\n";
}

int main() {
  Faster()
  Test()
  solve();
}
/*
                                                                       
                        .:^~!77????????777!~^..                       
                   .^!7????????????????????????7!^.                   
                :~7?????????????????????????????????!:                
             .~???????????JPP5YJ?YP55J?5P55YJ??????????!:             
           .!??????????J&Y?B&&&&GB#PP@&G#@&&@#YJ?????????7:           
         .!???????????7G@BJ77YB##&&YY@@BGBB&##&&G777??????J7:         
        ^??????????????&&&@#Y5&&&&&&&&&&&&&&&&&&&##BPY?7?????!        
       !J?????????????5&P7Y#B&@@@@@@@@@@@@@@@@@@@@@@@@@BJ?????7.      
      7???????????????G#@&G?Y@@@@@@@@@@@@@@@@@@@@@@@@@@@@P??????.     
     !???????????????5@P7P&B#@@@@@@@&GGGGGGGGBB#&@@@@@@@@@Y??????.    
    ^J??????????????7#@@#5?Y@@@@@@@@577777777777?5@@@@@@@@B7?????!    
    ?????????????????#GJB@#B@@@@@@@&?????????????7&@@@@@@@B7?????J:   
   ^J???????????????B@&G7?Y@@@@@@@@P7???????????7P@@@@@@@@5???????!   
   !????????????????@&&&77P@@@@@@@@????????777?JB@@@@@@@@#?????????   
   !???????????????JP#&@BJ&@@@@@@@#YYY5555PPG#&@@@@@@@@@#??????????   
   !??????????????J&@&&G#G@@@@@@@@@@@@@@@@@@@@@@@@@@@@@G???????????   
   ^??????????????J@PJB@?&@@@@@@@@@@@@@@@@@@@@@@@@@@&GJ7??????????7   
   .??????????????JB@&B@P@@@@@@@@@@@@@@@@@@@@@&&#GPJ?7???????????J^   
    ~????????????5@@BG#P#@@@@@@@&JJJJJJJJJJJ????77???????????????7    
     7??????????7#@B@&&5@@@@@@@@P7???????????????????????????????.    
     .???????????G&@@B5B@@@@@@@&????????????????????????????????:     
      .7????????B@&PG&5@@@@@@@@G7??????????????????????????????:      
        !??????J@&&#77G@@@@@@@@J?????????????????????????????7.       
         :7?????5#@&P?&@@@@@@@B7????????????????????????????^         
           ^7J???7JG&G@@@@@@@@J???????????????????????????~.          
             :7????7?J5555555Y?????????????????????????7^             
               .^7??????????????????????????????????7~.               
                  .:~7??????????????????????????7!^.                  
                       .^~!7??????????????7!~^:.                      
                              ..........                              
                                                                   
*/